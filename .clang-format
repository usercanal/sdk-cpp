---
# .clang-format configuration for UserCanal C++ SDK
# Ensures consistent code style across the project

BasedOnStyle: LLVM
IndentWidth: 4
TabWidth: 4
UseTab: Never

---
Language: Cpp

# Alignment
AlignAfterOpenBracket: Align
AlignConsecutiveAssignments: false
AlignConsecutiveDeclarations: false
AlignEscapedNewlines: Right
AlignOperands: true
AlignTrailingComments: true

# Allow putting parameters on next line
AllowAllParametersOfDeclarationOnNextLine: true
AllowShortBlocksOnASingleLine: false
AllowShortCaseLabelsOnASingleLine: false
AllowShortFunctionsOnASingleLine: All
AllowShortIfStatementsOnASingleLine: false
AllowShortLoopsOnASingleLine: false

# Breaking
AlwaysBreakAfterDefinitionReturnType: None
AlwaysBreakAfterReturnType: None
AlwaysBreakBeforeMultilineStrings: false
AlwaysBreakTemplateDeclarations: MultiLine
BinPackArguments: true
BinPackParameters: true

# Braces
BreakBeforeBraces: Attach
BreakBeforeBinaryOperators: None
BreakBeforeTernaryOperators: true
BreakConstructorInitializersBeforeComma: false
BreakAfterJavaFieldAnnotations: false
BreakStringLiterals: true

# Column limit
ColumnLimit: 120

# Comments
CommentPragmas: '^ IWYU pragma:'

# Constructor initializers
ConstructorInitializerAllOnOneLineOrOnePerLine: true
ConstructorInitializerIndentWidth: 4

# Continuation
ContinuationIndentWidth: 4

# Cpp11 features
Cpp11BracedListStyle: true

# Derive pointer alignment
DerivePointerAlignment: false
PointerAlignment: Left

# Includes
IncludeBlocks: Preserve
SortIncludes: true

# Indentation
IndentCaseLabels: false
IndentWidth: 4
IndentWrappedFunctionNames: false

# Keep empty lines
KeepEmptyLinesAtTheStartOfBlocks: true

# Macros
MacroBlockBegin: ''
MacroBlockEnd: ''

# Namespaces
NamespaceIndentation: None

# Penalties
PenaltyBreakAssignment: 2
PenaltyBreakBeforeFirstCallParameter: 1
PenaltyBreakComment: 300
PenaltyBreakFirstLessLess: 120
PenaltyBreakString: 1000
PenaltyExcessCharacter: 1000000
PenaltyReturnTypeOnItsOwnLine: 200

# Spaces
SpaceAfterCStyleCast: false
SpaceAfterTemplateKeyword: true
SpaceBeforeAssignmentOperators: true
SpaceBeforeParens: ControlStatements
SpaceInEmptyParentheses: false
SpacesBeforeTrailingComments: 1
SpacesInAngles: false
SpacesInContainerLiterals: true
SpacesInCStyleCastParentheses: false
SpacesInParentheses: false
SpacesInSquareBrackets: false

# Standard
Standard: Cpp11

# Misc
ReflowComments: true
